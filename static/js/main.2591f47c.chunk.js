(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{29:function(e,t,a){e.exports=a(54)},53:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(25),i=a.n(c),s=a(9),l=a(7),o=(a(34),a(2)),u=a.n(o),h=a(6),m=a(18),p=a(10),d=a(11),g=a(13),f=a(12),v=a(14),b=a(26),k=a.n(b),C="https://mate-academy.github.io/phone-catalogue-static/api/phones",y=function(){var e=Object(h.a)(u.a.mark(function e(){var t,a;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(C,".json"));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,e.abrupt("return",a);case 7:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Object(h.a)(u.a.mark(function e(t){var a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(C,"/").concat(t,".json"));case 2:return a=e.sent,e.next=5,a.json();case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),E=function(e){for(var t=e.isTop,a=e.page,n=void 0===a?1:a,c=e.count,i=void 0===c?20:c,s=e.perPage,l=void 0===s?3:s,o=e.onPageChange,u=Math.ceil(i/l)+1,h=[],m=1;m<u;m++)h.push(m);return t?r.a.createElement("div",{className:"Pagination"},1!==n&&r.a.createElement("button",{className:"Pagination__back",onClick:function(){return o(n-1)}},"\u2190"),h.map(function(e){if(e===n||e===n+1||e===n-1)return r.a.createElement("button",{key:e,className:e===n?"Pagination__active Pagination__btn":"Pagination__btn",onClick:function(){return o(e)}},e)}),n!==h.length&&r.a.createElement("button",{className:"Pagination__next",onClick:function(){return o(n+1)}},"\u2192")):r.a.createElement("div",{className:"Pagination"},h.map(function(e){return r.a.createElement("button",{key:e,className:e===n?"Pagination__active Pagination__btn":"Pagination__btn",onClick:function(){return o(e)}},e)}))},w=function(e){var t=e.onChangeQuery,a=e.visibleQuery;return r.a.createElement("div",{className:"md-form active-purple active-purple-2 mb-3"},r.a.createElement("input",{className:"Search",type:"text",placeholder:"Search","aria-label":"Search",onChange:t,value:a}))},_=function(e){var t=e.perPage,a=void 0===t?3:t,n=e.onPerPageChange;return r.a.createElement("select",{className:"Select browser-default custom-select",onChange:n,value:a},r.a.createElement("option",{value:"3"},"3"),r.a.createElement("option",{value:"5"},"5"),r.a.createElement("option",{value:"10"},"10"),r.a.createElement("option",{value:"20"},"20"))},S={name:{title:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",isSortable:!0,isSearchable:!0},age:{title:"\u0412\u043e\u0437\u0440\u0430\u0441\u0442",isSortable:!0},snippet:{title:"\u041e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",isSearchable:!0}},N=function(e){var t=e.visibleItems,a=e.onHeaderClick,n=e.onHandleCheck,c=e.checkedItems,i=e.onMainCheck,l=e.filteredItems,o=e.showChecked,u=e.onShowAllChecked,h=e.perPage,m=e.onPerPageChange;return r.a.createElement("div",{className:"Table-wrapper"},r.a.createElement("table",{className:"table"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"thead-dark Table__headers"},r.a.createElement("th",null,r.a.createElement("input",{type:"checkbox",checked:c.length===l.length,onChange:i.bind(void 0),name:"main",value:"main"})),Object.keys(S).map(function(e){return r.a.createElement("th",{key:e,className:S[e].isSortable&&"Table__sorting",onClick:S[e].isSortable?function(){return a(e)}:null},e)}))),r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement("input",{type:"checkbox",checked:c.includes(e.id),onChange:n.bind(void 0),name:e.id,value:e.id})),Object.keys(S).map(function(t){return"name"===t?r.a.createElement("td",{key:t},r.a.createElement(s.b,{to:"/".concat(e.id)},e[t])):r.a.createElement("td",{key:t},e[t])}))}))),r.a.createElement("button",{className:"CheckAll__btn",onClick:u.bind(void 0)},o?"Show all":"Show checked"),r.a.createElement(_,{perPage:h,onPerPageChange:m.bind(void 0)}))},j=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={phone:"",data:null},a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.updatePhone()}},{key:"componentDidUpdate",value:function(){this.updatePhone()}},{key:"updatePhone",value:function(){var e=Object(h.a)(u.a.mark(function e(){var t,a,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props.match.params||"",a=t.phone,this.props.location.pathname="",a!==this.state.phone){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,P(a);case 7:if(n=e.sent,this.state.phone!==n.id){e.next=10;break}return e.abrupt("return");case 10:this.setState({phone:a,data:n});case 11:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.data,t=e||"",a=t.name,n=t.images,c=t.hardware,i=t.display,s=t.battery,l=t.android;return e?r.a.createElement("div",{className:"Details float-right"},r.a.createElement("img",{src:"../"+n[0],alt:a}),r.a.createElement("p",null,r.a.createElement("span",{className:"Details__title"},"Name:")," ",a),r.a.createElement("p",null,r.a.createElement("span",{className:"Details__title"},"OS:")," ",l.os),r.a.createElement("p",null,r.a.createElement("span",{className:"Details__title"},"CPU:")," ",c.cpu),r.a.createElement("p",null,r.a.createElement("span",{className:"Details__title"},"Screen size:")," ",i.screenSize),r.a.createElement("p",null,r.a.createElement("span",{className:"Details__title"},"Touchscreen:")," ",i.touchScreen?"Yep":"Nope"),r.a.createElement("p",null,r.a.createElement("span",{className:"Details__title"},"Battary:")," ",s.type)):r.a.createElement("div",null,"Pick a phone")}}]),t}(n.Component),O=function(e){function t(){var e,a;Object(p.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(g.a)(this,(e=Object(f.a)(t)).call.apply(e,[this].concat(r)))).state={items:null,isLoading:!1,sortColumn:null,sortAsc:!0,perPage:3,page:1,query:"",visibleQuery:"",checkedItems:[],showChecked:!1},a.handlePerPageChange=function(e){a.setState({perPage:+e.target.value,page:1,query:"",visibleQuery:""})},a.handleHeaderClick=function(e){var t,n=a.state,r=n.items,c=n.sortAsc,i=c?1:-1,s="number"===typeof r[0][e]?function(t,a){return i*(t[e]-a[e])}:function(t,a){return i*t[e].localeCompare(a[e])};t=Object(m.a)(r).sort(s),a.setState({items:t,sortAsc:!c})},a.handlePageChange=function(e){a.setState({page:e})},a.paginateItems=function(e){var t=e.items,a=e.perPage,n=(e.page-1)*a,r=n+a;return t&&t.slice(n,r)},a.handleChangeQuery=function(e){a.setState({visibleQuery:e.target.value}),a.updateQuery(e.target.value)},a.updateQuery=k()(function(e){var t=a.setParams({query:e});a.props.history.push("?".concat(t)),e||window.history.replaceState({},"",a.props.location.pathname),a.setState({query:e,page:1})},1e3),a.handleCheck=function(e){var t=a.state.checkedItems,n=e.target.value,r=[];r=t.includes(n)?t.filter(function(e){return e!==n}):[].concat(Object(m.a)(t),[n]),a.setState({checkedItems:r})},a.handleMainCheck=function(e){var t=a.state,n=t.items,r=t.query,c=n.filter(function(e){return e.name.toLowerCase().includes(r.toLowerCase())||e.snippet.toLowerCase().includes(r.toLowerCase())}),i=[];e.target.checked&&(i=c.map(function(e){return e.id})),a.setState({checkedItems:i,isMainChecked:e.target.checked})},a.handleShowAllChecked=function(){var e=a.state,t=e.showChecked,n=e.query,r=e.visibleQuery;t&&(n="",r=""),a.setState({showChecked:!t,query:n,visibleQuery:r})},a.getfilteredItems=function(e){var t=e.items,n=e.query,r=e.showChecked,c=a.state.checkedItems,i=t&&t.filter(function(e){return e.name.toLowerCase().includes(n.toLowerCase())||e.snippet.toLowerCase().includes(n.toLowerCase())});return r?i.filter(function(e){return c.includes(e.id)}):i},a}return Object(v.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=Object(h.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:t=e.sent,this.setState({items:t,isLoaded:!0});case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"setParams",value:function(e){var t=e.query,a=new URLSearchParams;return a.set("query",t||""),a.toString()}},{key:"render",value:function(){var e=this.state,t=e.isLoaded,a=e.perPage,n=e.items,c=e.page,i=e.query,s=e.visibleQuery,o=e.checkedItems,u=e.showChecked,h=this.getfilteredItems({items:n,query:i,showChecked:u}),m=this.paginateItems({items:h,perPage:a,page:c});return r.a.createElement("div",{className:"App"},t&&r.a.createElement("div",{className:"clearfix"},r.a.createElement("div",{className:"Catalog float-left"},r.a.createElement(E,{isTop:!0,count:t&&h.length,onPageChange:this.handlePageChange,perPage:a,page:c,onPerPageChange:this.handlePerPageChange}),r.a.createElement(N,{visibleItems:m,checkedItems:o,filteredItems:h,showChecked:u,perPage:a,onHandleCheck:this.handleCheck.bind(this),onHeaderClick:this.handleHeaderClick.bind(this),onMainCheck:this.handleMainCheck.bind(this),onShowAllChecked:this.handleShowAllChecked.bind(this),onPerPageChange:this.handlePerPageChange.bind(this)}),r.a.createElement(E,{isTop:!1,count:t&&h.length,onPageChange:this.handlePageChange,perPage:a,page:c,onPerPageChange:this.handlePerPageChange}),r.a.createElement(w,{onChangeQuery:this.handleChangeQuery,visibleQuery:s})),r.a.createElement(l.a,{path:"/:phone",component:j})))}}]),t}(r.a.Component),x=(a(53),document.getElementById("root"));i.a.render(r.a.createElement(s.a,{basename:"/react-data-table"},r.a.createElement(l.a,{component:O})),x)}},[[29,1,2]]]);
//# sourceMappingURL=main.2591f47c.chunk.js.map